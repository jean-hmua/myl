<div class="index-bkg">
  <div class="index-grid-container">
    <div class="user-navbar">
      <!--Dropdown-->
        <div class="dropdown show">
          <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <%= image_tag("tmp/Asset-3d.svg")%>
          </a>

          <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
            
            <%= link_to "Explore", song_texts_path, class:"dropdown-item"  %>
            <%= link_to "Your Lyrics", user_song_texts_path, class:"dropdown-item"  %>
            <a class="dropdown-item" href="#">Something else here</a>
          </div>
        </div>

      <%#= link_to image_tag("tmp/Asset-3d.svg"), song_texts_path, class:"logo-nav"  %>
      <%= link_to "Log out", destroy_user_session_path, method: :delete %>
    </div>
    <div class="index-content">
      <table>
        <tr>
          <th> </th>
          <th>Title</th>
          <th>Author</th>
          <th></th>
          
        </tr>
        <% @song_texts.each do |song_text| %>
        <!-- Modal -->
          <div class="modal fade" id="showSongModal-<%= song_text.id %>" tabindex="-1" role="dialog" aria-labelledby="showSongModalLabel-<%= song_text.id %>" aria-hidden="true">
            <div class="modal-dialog" role="document">
              <div class="modal-content" style= "background-color: transparent;">
                <div class="modal-header" style= "background-color: <% if song_text.color_tag != "" %><%= song_text.color_tag %><% else %> #463F3A <%end%>; ">
                  <h5 class="modal-title" id="showSongModalLabel-<%= song_text.id %>"><%= song_text.title %></h5> 
                  
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body<%= song_text.id %> modal-body">
                  <h6>by <%= (song_text.user.username if song_text.user.username)  || (song_text.user.email if song_text.user.email) %></h6>
                  <p><%= song_text.content %></p>
                </div>
                <div class="modal-footer" style= "background-color: <% if song_text.color_tag != "" %><%= song_text.color_tag %><% else %> #463F3A <%end%>;">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal"  style= "background-color: white;color : <% if song_text.color_tag != "" %><%= song_text.color_tag %><% else %> #463F3A <%end%>; font-weight: bolder;">Close</button>
                </div>
              </div>
            </div>
          </div>
          <tr>
            <td style="background-color: <% if song_text.color_tag != "" %> <%= song_text.color_tag %><% else %> #463F3A <%end%>;">
              
            </td>
            <td class="table-title" class="btn btn-primary" data-toggle="modal" data-target="#showSongModal-<%= song_text.id %>">
              <p>  <%= song_text.title %></p>
            </td>
            <td>
              <p>  <%= (song_text.user.username if song_text.user.username)  || (song_text.user.email if song_text.user.email) %></p>
            </td>
            <td class="table-ratings">
              <p ><%= "⭐" * song_text.rating if song_text.rating %><%= "" if song_text.ratable == true %></p>
            </td>
          </tr>
        <% end %>
      </table>
      <div class="pag">
        <%= paginate @song_texts %>
      </div>
    </div>
    <div class="index-footer">
    </div>
  </div>
</div>
